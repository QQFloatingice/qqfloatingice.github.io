<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8" />
<title>几个贪吃蛇 - QQ floating ice</title>
<meta name="description" content="&lt;p&gt;A personal blog for QQ floating ice&lt;/p&gt;






&lt;iframe frameborder=&#34;no&#34; border=&#34;0&#34; marginwidth=&#34;0&#34; marginheight=&#34;0&#34; width=330 height=86 src=&#34;//music.163.com/outchain/player?type=2&amp;id=425137440&amp;auto=1&amp;height=66&#34;&gt;&lt;/iframe&gt;



&lt;html&gt;
&lt;head&gt;
&lt;meta charset=&#34;utf-8&#34;&gt;
&lt;title&gt;本站已艰难的已运行&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;script type=&#34;text/javascript&#34;&gt;
function show_date_time() {
	window.setTimeout(&#34;show_date_time()&#34;, 1000);
	var BirthDay = new Date(&#34;04/02/2020 00:11:01&#34;);  //这里括号填你站点建立时间
	var today = new Date();
	var timeold = (today.getTime() - BirthDay.getTime());
	var sectimeold = timeold / 1000;
	var secondsold = Math.floor(sectimeold);
	var msPerDay = 24 * 60 * 60 * 1000;
	var e_daysold = timeold / msPerDay;
	var daysold = Math.floor(e_daysold);
	var e_hrsold = (e_daysold - daysold) * 24;
	var hrsold = Math.floor(e_hrsold);
	var e_minsold = (e_hrsold - hrsold) * 60;
	var minsold = Math.floor((e_hrsold - hrsold) * 60);
	var seconds = Math.floor((e_minsold - minsold) * 60);
	document.getElementById 
	(&#34;show_date_time&#34;).innerHTML=&#34;本站艰难地存活了&#34;+daysold + &#34;天&#34; + hrsold + &#34;小时&#34; + minsold + &#34;分&#34; + seconds + &#34;秒&#34;;
}
show_date_time()
&lt;/script&gt;
&lt;p&gt;
	&lt;span id=&#34;show_date_time&#34;&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;

">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link type='text/css' rel='stylesheet' href='https://qqfloatingice.top/styles/main.css' media='screen' />
<link type="text/css" rel="stylesheet" href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css">
<link type="text/css" rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css">

<script type="text/javascript" src='https://qqfloatingice.top/media/scripts/jquery.js'></script>
<script type="text/javascript" src="https://cdn.bootcss.com/highlight.js/9.15.10/highlight.min.js"></script>

<script>
    hljs.initHighlightingOnLoad();
</script>



</head>

<body>
  <div class="layout theme-dark">
    <div class="layout-header">

	<div class="layout-header-main">
		<div class="container">
			<div class="row justify-content-lg-center">
				<div class="col-12 col-lg-9">

					<div class="navbar">

						<div class="logo">
							<a href="https://qqfloatingice.top">
								<img class="logo"
									src="https://qqfloatingice.top/media/images/site_avatar.png?v=1622194224355"
									alt="">
							</a>
						</div>

						<div class="menu d-md-inline-block d-none">
							<ul class="layout-navigation-list">
								
								<li class="layout-navigation-item"><a title="首页"
										href="/">首页</a>
								</li>
								
								<li class="layout-navigation-item"><a title="归档"
										href="/archives">归档</a>
								</li>
								
								<li class="layout-navigation-item"><a title="标签"
										href="/tags">标签</a>
								</li>
								
								<li class="layout-navigation-item"><a title="关于"
										href="/post/2">关于</a>
								</li>
								
								<li class="layout-navigation-item"><a title="友情链接"
										href="/post/1">友情链接</a>
								</li>
								
								<li class="layout-navigation-item"><a title="联络墙"
										href="/post/233">联络墙</a>
								</li>
								
							</ul>
						</div>

						<div class="item d-md-inline-block d-none">
							<div class="search-icon">
								<i class="fa fa-search" aria-hidden="true"></i>
							</div>
						</div>



						<div class="d-md-inline-block d-none">
							<div class="search-lightbox">
								<div class="search-body">

									<form id="gridea-search-form" data-update="1622194224355" action="/search/" class="search-form">
										<input type="text" name="q" id="s" value="" class="search-field" placeholder="请输入搜索关键词" aria-label="请输入搜索关键词" required="">
										<button type="submit" class="submit" aria-label="Submit">
											<i class="fa fa-search" aria-hidden="true"></i>
										</button>
									</form>

								</div>
							</div>
						</div>

						<div class="nav d-md-none d-inline-block">
							<div class="trigger">
								<i class="fa fa-bars layout-btn-toggle" aria-hidden="true"></i>
							</div>
						</div>

					</div>

				</div>
			</div>




		</div>
	</div>

</div>
    <div class="layout-collapse d-md-none">
	<div class="layout-collapse-main">
		<ul class="layout-collapse-list">
			
			<li class="layout-collapse-item"><a title="首页" href="/">首页</a></li>
			
			<li class="layout-collapse-item"><a title="归档" href="/archives">归档</a></li>
			
			<li class="layout-collapse-item"><a title="标签" href="/tags">标签</a></li>
			
			<li class="layout-collapse-item"><a title="关于" href="/post/2">关于</a></li>
			
			<li class="layout-collapse-item"><a title="友情链接" href="/post/1">友情链接</a></li>
			
			<li class="layout-collapse-item"><a title="联络墙" href="/post/233">联络墙</a></li>
			

		</ul>
	</div>
</div>

    <div class="layout-content">
      <div class="layout-content-main">
        <div class="container">
          <div class="row justify-content-lg-center">
            <div class="col-12 col-lg-9">
              <div class="layout-post">
                <div class="layout-post-body">
                  <div class="row">

                    <div class="col-12 col-lg-10">
                      <div class="layout-post-main m-right m-md-right">
                        <div class="layout-post-header">
                          <h1 class="layout-post-title">几个贪吃蛇</h1>
                          <div class="layout-post-meta">
                            <div class="item">
                               <a href="https://qqfloatingice.top/tag/pXdlKiSpP/" class="post--keyword"
                                data-title="C++" data-type="post_tag" data-term-id="39">C++</a>
                              
                            </div>
                            <div class="item">
                              <span>2020-05-03</span>
                            </div>
                          </div>
                        </div>
                        <div class="layout-post-content">
                          <div class="layout-post-item">
                            
                            <h3 id="声明">声明</h3>
<h4 id="由于本人c使用能力一直下滑毕竟知道它没用-不考竞赛之后就没认真用过了所以有bug不要找我我现在已经没有能力修他们了">由于本人C++使用能力一直下滑（毕竟知道它没用-不考竞赛之后就没认真用过了）所以有BUG不要找我，我现在已经没有能力修他们了。。。。</h4>
<h5 id="本人的c版本较早可能新版无法运行">本人的C++版本较早可能新版无法运行</h5>
<h1 id="壹">壹</h1>
<pre><code>#include&lt;windows.h&gt;
#include&lt;time.h&gt;
#include&lt;stdlib.h&gt;
#include&lt;conio.h&gt;
#define N 21
#include&lt;iostream&gt;
using namespace std; 
void gotoxy(int x,int y)//位置函数
{
COORD pos;
pos.X=2*x;
pos.Y=y;
SetConsoleCursorPosition(GetStdHandle(STD_OUTPUT_HANDLE),pos);
}
void color(int a)//颜色函数
{
SetConsoleTextAttribute(GetStdHandle(STD_OUTPUT_HANDLE),a);
}
void init(int apple[2])//初始化函数（初始化围墙、显示信息、苹果）
{
int i,j;//初始化围墙
int wall[N+2][N+2]={{0}};
for(i=1;i&lt;=N;i++)
{
for(j=1;j&lt;=N;j++)
wall[i][j]=1;
}
color(11);
for(i=0;i&lt;N+2;i++)
{
for(j=0;j&lt;N+2;j++)
{
if(wall[i][j])
cout&lt;&lt;&quot;■&quot;;
else cout&lt;&lt;&quot;□&quot; ;
}
cout&lt;&lt;endl;
}
gotoxy(N+3,1);//显示信息
color(20);
cout&lt;&lt;&quot;按 W S A D 移动方向&quot;&lt;&lt;endl;
gotoxy(N+3,2);
color(20);
cout&lt;&lt;&quot;按任意键暂停&quot;&lt;&lt;endl;
gotoxy(N+3,3);
color(20);
cout&lt;&lt;&quot;得分：&quot;&lt;&lt;endl;
apple[0]=rand()%N+1;//苹果
apple[1]=rand()%N+1;
gotoxy(apple[0],apple[1]);
color(12);
cout&lt;&lt;&quot;●&quot;&lt;&lt;endl;
}
int main()
{
int i,j;
int** snake=NULL;
int apple[2];
int score=0;
int tail[2];
int len=3;
char ch='p';
srand((unsigned)time(NULL));
init(apple);
snake=(int**)realloc(snake,sizeof(int*)*len);
for(i=0;i&lt;len;i++)
snake[i]=(int*)malloc(sizeof(int)*2);
for(i=0;i&lt;len;i++)
{
snake[i][0]=N/2;
snake[i][1]=N/2+i;
gotoxy(snake[i][0],snake[i][1]);
color(14);
cout&lt;&lt;&quot;★&quot;&lt;&lt;endl;
}
while(1)//进入消息循环
{
tail[0]=snake[len-1][0];
tail[1]=snake[len-1][1];
gotoxy(tail[0],tail[1]);
color(11);
cout&lt;&lt;&quot;■&quot;&lt;&lt;endl;
for(i=len-1;i&gt;0;i--)
{
snake[i][0]=snake[i-1][0];
snake[i][1]=snake[i-1][1];
gotoxy(snake[i][0],snake[i][1]);
color(14);
cout&lt;&lt;&quot;★&quot;&lt;&lt;endl;
}
if(kbhit())
{
gotoxy(0,N+2);
ch=getche();
}
switch(ch)
{
case 'w':snake[0][1]--;break;
case 's':snake[0][1]++;break;
case 'a':snake[0][0]--;break;
case 'd':snake[0][0]++;break;
default: break;
}
gotoxy(snake[0][0],snake[0][1]);
color(14);
cout&lt;&lt;&quot;★&quot;&lt;&lt;endl;
Sleep(abs(200-0.5*score));
if(snake[0][0]==apple[0]&amp;&amp;snake[0][1]==apple[1])//吃掉苹果后蛇分数加1，蛇长加1
{
score++;
len++;
snake=(int**)realloc(snake,sizeof(int*)*len);
snake[len-1]=(int*)malloc(sizeof(int)*2);
apple[0]=rand()%N+1;
apple[1]=rand()%N+1;
gotoxy(apple[0],apple[1]);
color(12);
cout&lt;&lt;&quot;●&quot;&lt;&lt;endl;
gotoxy(N+5,3);
color(20);
cout&lt;&lt;score&lt;&lt;endl;
}
if(snake[0][1]==0||snake[0][1]==N||snake[0][0]==0||snake[0][0]==N)//撞到围墙后失败
{
gotoxy(N/2,N/2);
color(30);
cout&lt;&lt;&quot;失败！！！&quot;&lt;&lt;endl;
for(i=0;i&lt;len;i++)
free(snake[i]);
Sleep(INFINITE);
exit(0);
}
}
return 0;
}

</code></pre>
<h1 id="贰">贰</h1>
<pre><code>/************************贪吃蛇***********************/
/**********************2012-11-20*********************/
 
#include &lt;iostream&gt;
#include &lt;cstdio&gt;
#include &lt;cstdlib&gt;
#include &lt;ctime&gt;
#include &lt;conio.h&gt;
#include &lt;cmath&gt;
#include &lt;windows.h&gt;
using namespace std;
 
/*** 光标定位 ***/
HANDLE hout=GetStdHandle(STD_OUTPUT_HANDLE);
COORD coord;
 
void locate(int x,int y)
{
    coord.X=y;
    coord.Y=x;
    SetConsoleCursorPosition(hout,coord);
};
 
/*** 隐藏光标 ***/
void hide()
{
    CONSOLE_CURSOR_INFO cursor_info={1,0};
    SetConsoleCursorInfo(hout, &amp;cursor_info);
}
 
/*** 生成随机数 ***/
double random(double start, double end)
{
    return start+(end-start)*rand()/(RAND_MAX + 1.0);
}
 
/*** 定义地图的长宽，蛇的坐标，长度，方向，食物的位置 ***/
int m,n;
 
struct node
{
    int x,y;
}snake[1000];
 
int snake_length,dir;
node food;
int direct[4][2]={{-1,0},{1,0},{0,-1},{0,1}};
 
/*** 输出墙 ***/
void print_wall()
{
    cout &lt;&lt; &quot; &quot;;
    for (int i=1;i&lt;=n;i++)
        cout &lt;&lt; &quot;-&quot;;
    cout &lt;&lt; endl;
    for (int j=0;j&lt;=m-1;j++)
    {
        cout &lt;&lt; &quot;|&quot;;
        for (int i=1;i&lt;=n;i++) cout &lt;&lt; &quot; &quot;;
        cout &lt;&lt; &quot;|&quot; &lt;&lt; endl;
    }
    cout &lt;&lt; &quot; &quot;;
    for (int i=1;i&lt;=n;i++)
        cout &lt;&lt; &quot;-&quot;;
}
 
/*** 首次输出蛇，其中snake[0]代表头 ***/
void print_snake()
{
    locate(snake[0].x,snake[0].y);
    cout &lt;&lt; &quot;@&quot;;
    for (int i=1;i&lt;=snake_length-1;i++)
    {
        locate(snake[i].x,snake[i].y);
        cout &lt;&lt; &quot;*&quot;;
    }
}
 
/*** 判断是否撞墙或者自撞 ***/
bool is_correct()
{
    if (snake[0].x==0 || snake[0].y==0 || snake[0].x==m+1 || snake[0].y==n+1) return false;
    for (int i=1;i&lt;=snake_length-1;i++)
    {
        if (snake[0].x==snake[i].x &amp;&amp; snake[0].y==snake[i].y) return false;
    }
    return true;
}
 
/*** 随机生成并输出食物位置 ***/
bool print_food()
{
    srand((unsigned)time(0));
    bool e;
    while (1)
    {
        e=true;
        int i=(int) random(0,m)+1,j=(int) random(0,n)+1;
        food.x=i;food.y=j;
        for (int k=0;k&lt;=snake_length-1;k++)
        {
            if (snake[k].x==food.x &amp;&amp; snake[k].y==food.y)
            {
                e=false;break;
            }
        }
        if (e) break;
    }
    locate(food.x,food.y);
    cout &lt;&lt; &quot;$&quot;;
    return true;
}
 
/*** 蛇的前进 ***/
bool go_ahead()
{
    node temp;
    bool e=false;
    temp=snake[snake_length-1];
    for (int i=snake_length-1;i&gt;=1;i--)
        snake[i]=snake[i-1];
    snake[0].x+=direct[dir][0];
    snake[0].y+=direct[dir][1];
    locate(snake[1].x,snake[1].y);
    cout &lt;&lt; &quot;*&quot;;
    /*** 吃到了食物 ***/
    if (snake[0].x==food.x &amp;&amp; snake[0].y==food.y)
    {
        snake_length++;
        e=true;
        snake[snake_length-1]=temp;
    }
    /*** 输出此时蛇状态 ***/
    if (!e)
    {
        locate(temp.x,temp.y);
        cout &lt;&lt; &quot; &quot;;
    }
    else
        print_food();
    locate(snake[0].x,snake[0].y);
    cout &lt;&lt; &quot;@&quot;;
    /*** 如果自撞 ***/
    if (!is_correct())
    {
        system(&quot;cls&quot;);
        cout &lt;&lt; &quot;You lose!&quot; &lt;&lt; endl &lt;&lt; &quot;Length: &quot; &lt;&lt; snake_length &lt;&lt; endl;
        return false;
    }
    return true;
}
 
/*** 主函数 ***/
int main()
{
    cout &lt;&lt; &quot;--------------------贪吃蛇---------------------&quot; &lt;&lt; endl;
    cout &lt;&lt; &quot;请先输入两个数,表示地图大小.要求长宽均不小于10.&quot; &lt;&lt; endl;
    cout &lt;&lt; &quot;请注意窗口大小,以免发生错位.建议将窗口调为最大.&quot; &lt;&lt; endl;
    cout &lt;&lt; &quot;再选择难度.请在1-10中输入1个数,1最简单,10则最难&quot; &lt;&lt; endl;
    cout &lt;&lt; &quot;然后进入游戏画面,以方向键控制方向.祝你游戏愉快!&quot; &lt;&lt; endl;
    cout &lt;&lt; &quot;-----------------------------------------------&quot; &lt;&lt; endl;
    cin &gt;&gt; m &gt;&gt; n;
    if (m&lt;10 || n&lt;10 || m&gt;25 || n&gt;40)
    {
        cout &lt;&lt; &quot;ERROR&quot; &lt;&lt; endl;
        system(&quot;pause&quot;);
        return 0;
    }
    int hard;
    cin &gt;&gt; hard;
    if (hard&lt;=0 || hard&gt;100)
    {
        cout &lt;&lt; &quot;ERROR&quot; &lt;&lt; endl;
        system(&quot;pause&quot;);
        return 0;
    }
    /*** 数据全部初始化，包括蛇长，位置，方向 ***/
    snake_length=5;
    clock_t a,b;
    char ch;
    double hard_len;
    for (int i=0;i&lt;=4;i++)
    {
        snake[i].x=1;
        snake[i].y=5-i;
    }
    dir=3;
    /*** 输出初始地图，蛇与食物 ***/
    system(&quot;cls&quot;);
    hide();
    print_wall();
    print_food();
    print_snake();
    locate(m+2,0);
    cout &lt;&lt; &quot;Now length: &quot;;
    /*** 开始游戏 ***/
    while (1)
    {
        /*** 难度随长度增加而提高 ***/
        hard_len=(double)snake_length/(double) (m*n);
        /*** 调节时间，单位是ms ***/
        a=clock();
        while (1)
        {
            b=clock();
            if (b-a&gt;=(int)(400-30*hard)*(1-sqrt(hard_len))) break;
        }
        /*** 接受键盘输入的上下左右，并以此改变方向 ***/
        if (kbhit())
        {
            ch=getch();
            if (ch==-32)
            {
                ch=getch();
                switch(ch)
                {
                case 72:
                    if (dir==2 || dir==3)
                        dir=0;
                    break;
                case 80:
                    if (dir==2 || dir==3)
                        dir=1;
                    break;
                case 75:
                    if (dir==0 || dir==1)
                        dir=2;
                    break;
                case 77:
                    if (dir==0 || dir==1)
                        dir=3;
                    break;
                }
            }
        }
        /*** 前进 ***/
        if (!go_ahead()) break;
        /*** 在最后输出此时长度 ***/
        locate(m+2,12);
        cout &lt;&lt; snake_length;
    }
    system(&quot;pause&quot;);
    return 0;
}

</code></pre>
<h1 id="叁">叁</h1>
<pre><code>#include &lt;windows.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;conio.h&gt;
#include &lt;time.h&gt;
#include &lt;cstring&gt;
#include &lt;cstdio&gt;
#include &lt;iostream&gt;
#define  N 22
using namespace std;
 
    int gameover;
 
    int x1, y1; // 随机出米
 
    int x,y;
 
    long start;
 
//=======================================
//类的实现与应用initialize
//=======================================
 
//下面定义贪吃蛇的坐标类
class snake_position
{
public:
 
    int x,y;      //x表示行，y表示列
 
    snake_position(){};
 
    void initialize(int &amp;);//坐标初始化
 
 
};
 
snake_position position[(N-2)*(N-2)+1]; //定义贪吃蛇坐标类数组，有(N-2)*(N-2)个坐标
 
void snake_position::initialize(int &amp;j)
{
        x = 1;
 
        y = j;
}
 
 
//下面定义贪吃蛇的棋盘图
 
class snake_map
{
 
private:
 
    char s[N][N];//定义贪吃蛇棋盘，包括墙壁。
 
    int grade, length;
 
    int gamespeed; //前进时间间隔
 
    char direction; // 初始情况下，向右运动
 
    int head,tail;
 
    int score;
 
    bool gameauto;
 
public:
 
    snake_map(int h=4,int t=1,int l=4,char d=77,int s=0):length(l),direction(d),head(h),tail(t),score(s){}
 
    void initialize();   //初始化函数
 
    void show_game();
 
    int updata_game();
 
    void setpoint();
 
    void getgrade();
 
    void display();
 
 
};
 
//定义初始化函数，将贪吃蛇的棋盘图进行初始化
 
void snake_map::initialize()
{
    int i,j;
 
    for(i=1;i&lt;=3;i++)
 
        s[1][i] = '*';
 
    s[1][4] = '#';
 
    for(i=1;i&lt;=N-2;i++)
 
        for(j=1;j&lt;=N-2;j++)
 
            s[i][j]=' '; // 初始化贪吃蛇棋盘中间空白部分
 
    for(i=0;i&lt;=N-1;i++)
 
        s[0][i] = s[N-1][i] = '-'; //初始化贪吃蛇棋盘上下墙壁
 
    for(i=1;i&lt;=N-2;i++)
 
        s[i][0] = s[i][N-1] = '|'; //初始化贪吃蛇棋盘左右墙壁
}
 
 
//============================================
//输出贪吃蛇棋盘信息
 
void snake_map::show_game()
 
{
 
    system(&quot;cls&quot;); // 清屏
 
    int i,j;
 
    cout &lt;&lt; endl;
 
    for(i=0;i&lt;N;i++)
    {
 
        cout &lt;&lt; '\t';
 
        for(j=0;j&lt;N;j++)
 
            cout&lt;&lt;s[i][j]&lt;&lt;' '; // 输出贪吃蛇棋盘
 
        if(i==2) cout &lt;&lt; &quot;\t等级：&quot; &lt;&lt; grade;
 
        if(i==6) cout &lt;&lt; &quot;\t速度：&quot; &lt;&lt; gamespeed;
 
        if(i==10) cout &lt;&lt; &quot;\t得分：&quot; &lt;&lt; score &lt;&lt; &quot;分&quot; ;
 
        if(i==14) cout &lt;&lt; &quot;\t暂停：按一下空格键&quot; ;
 
        if(i==18) cout &lt;&lt; &quot;\t继续：按两下空格键&quot; ;
 
        cout&lt;&lt;endl;
    }
}
 
//输入选择等级
void snake_map::getgrade()
{
    cin&gt;&gt;grade;
 
    while( grade&gt;7 || grade&lt;1 )
    {
        cout &lt;&lt; &quot;请输入数字1-7选择等级，输入其他数字无效&quot; &lt;&lt; endl;
 
        cin &gt;&gt; grade;
    }
    switch(grade)
    {
        case 1: gamespeed = 1000;gameauto = 0;break;
 
        case 2: gamespeed = 800;gameauto = 0;break;
 
        case 3: gamespeed = 600;gameauto = 0;break;
 
        case 4: gamespeed = 400;gameauto = 0;break;
 
        case 5: gamespeed = 200;gameauto = 0;break;
 
        case 6: gamespeed = 100;gameauto = 0;break;
 
        case 7: grade = 1;gamespeed = 1000;gameauto = 1;break;
 
    }
 
}
 
//输出等级，得分情况以及称号
 
void snake_map::display()
{
 
    cout &lt;&lt; &quot;\n\t\t\t\t等级：&quot; &lt;&lt; grade;
 
    cout &lt;&lt; &quot;\n\n\n\t\t\t\t速度：&quot; &lt;&lt; gamespeed;
 
    cout &lt;&lt; &quot;\n\n\n\t\t\t\t得分：&quot; &lt;&lt; score &lt;&lt; &quot;分&quot; ;
 
}
 
//随机产生米
void snake_map::setpoint()
{
    srand(time(0));
 
    do
    {
 
        x1 = rand() % (N-2) + 1;
 
        y1 = rand() % (N-2) + 1;
 
    }while(s[x1][y1]!=' ');
 
    s[x1][y1]='*';
}
 
char key;
 
int snake_map::updata_game()
{
    gameover = 1;
 
    key = direction;
 
    start = clock();
 
    while((gameover=(clock()-start&lt;=gamespeed))&amp;&amp;!kbhit());
 
    //如果有键按下或时间超过自动前进时间间隔则终止循环
 
 
 
        if(gameover)
        {
 
            getch();
 
            key = getch();
        }
 
        if(key == ' ')
 
        {
            while(getch()!=' '){};//这里实现的是按空格键暂停，按空格键继续的功能，但不知为何原因，需要按两下空格才能继续。这是个bug。
        }
 
        else
 
            direction = key;
 
        switch(direction)
        {
            case 72: x= position[head].x-1; y= position[head].y;break; // 向上
 
            case 80: x= position[head].x+1; y= position[head].y;break; // 向下
 
            case 75: x= position[head].x; y= position[head].y-1;break; // 向左
 
            case 77: x= position[head].x; y= position[head].y+1; // 向右
 
        }
 
        if(!(direction==72||direction==80||direction==75 ||direction==77))   // 按键非方向键
 
            gameover = 0;
 
        else if(x==0 || x==N-1 ||y==0 || y==N-1)   // 碰到墙壁
 
            gameover = 0;
 
        else if(s[x][y]!=' '&amp;&amp;!(x==x1&amp;&amp;y==y1))    // 蛇头碰到蛇身
 
            gameover = 0;
 
        else if(x==x1 &amp;&amp; y==y1)
 
        { // 吃米，长度加1
 
            length ++;
 
            if(length&gt;=8 &amp;&amp; gameauto)
 
            {
 
                length -= 8;
 
                grade ++;
 
                if(gamespeed&gt;=200)
 
                    gamespeed -= 200; // 改变贪吃蛇前进速度
 
                else
 
                    gamespeed = 100;
 
            }
 
            s[x][y]= '#';  //更新蛇头
 
            s[position[head].x][position[head].y] = '*'; //吃米后将原先蛇头变为蛇身
 
            head = (head+1) % ( (N-2)*(N-2) );   //取蛇头坐标
 
            position[head].x = x;
 
            position[head].y = y;
 
            show_game();
 
            gameover = 1;
 
            score += grade*20;  //加分
 
            setpoint();   //产生米
 
        }
 
        else
        { // 不吃米
 
            s[position[tail].x][position[tail].y]=' ';//将蛇尾置空
 
            tail= (tail+1) % ( (N-2) * (N-2) );//更新蛇尾坐标
 
            s[position[head].x][position[head].y]='*';  //将蛇头更为蛇身
 
            head= (head+1) % ( (N-2) * (N-2) );
 
            position[head].x = x;
 
            position[head].y = y;
 
            s[position[head].x][position[head].y]='#'; //更新蛇头
 
            gameover = 1;
 
        }
    return gameover;
 
}
//====================================
//主函数部分
//====================================
int main()
{
    char ctn = 'y';
 
    int nodead;
 
    cout&lt;&lt;&quot;\n\n\n\n\n\t\t\t 欢迎进入贪吃蛇游戏!&quot;&lt;&lt;endl;//欢迎界面;
 
    cout&lt;&lt;&quot;\n\n\n\t\t\t 按任意键马上开始。。。&quot;&lt;&lt;endl;//准备开始;;
 
    getch();
 
    while( ctn=='y' )
    {
        system(&quot;cls&quot;); // 清屏
 
        snake_map snake;
 
        snake.initialize();
 
        cout &lt;&lt; &quot;\n\n请输入数字选择游戏等级：&quot; &lt;&lt; endl;
 
        cout &lt;&lt; &quot;\n\n\n\t\t\t1.等级一：速度 1000 \n\n\t\t\t2.等级二：速度 800 \n\n\t\t\t3.等级三：速度 600 &quot;;
 
        cout &lt;&lt; &quot;\n\n\t\t\t4.等级四：速度 400 \n\n\t\t\t5.等级五：速度 200 \n\n\t\t\t6.等级六：速度 100 \n\n\t\t\t7.自动升级模式&quot; &lt;&lt; endl;
 
        snake.getgrade();//获取等级
 
        for(int i=1;i&lt;=4;i++)
        {
            position[i].initialize(i);//初始化坐标
        }
 
        snake.setpoint();  // 产生第一个米
 
        do
        {
            snake.show_game();
 
            nodead = snake.updata_game();
 
        }while(nodead);
 
        system(&quot;cls&quot;); //清屏
 
 
 
        cout &lt;&lt; &quot;\n\n\n\t\t\t\tGameover！\n\n&quot;&lt;&lt;endl;
 
        snake.display();//输出等级/得分情况
 
        cout &lt;&lt; &quot;\n\n\n\t\t    是否选择继续游戏？输入 y 继续，n 退出&quot; &lt;&lt; endl;
 
        cin &gt;&gt; ctn;
 
    }
 
    return 0;
}


</code></pre>
<h1 id="肆">肆</h1>
<pre><code>  
//******友情提示:如想速度快点,请改小_sleep(500)函数中参数*****  
 
#include &lt;stdio.h&gt;  
#include &lt;stdlib.h&gt;  
#include &lt;conio.h&gt;  
#include &lt;string.h&gt;  
#include &lt;time.h&gt;  
const int H = 8;   //地图的高  
const int L = 16;  //地图的长  
char GameMap[H][L];   //游戏地图  
int  key;  //按键保存  
int  sum = 1, over = 0;  //蛇的长度, 游戏结束(自吃或碰墙)  
int  dx[4] = {0, 0, -1, 1};  //左、右、上、下的方向  
int  dy[4] = {-1, 1, 0, 0};  
struct Snake   //蛇的每个节点的数据类型  
{  
 int x, y;  //左边位置  
 int now;   //保存当前节点的方向, 0,1,2,3分别为左右上下  
}Snake[H*L];  
const char Shead = '@';  //蛇头  
const char Sbody = '#';  //蛇身  
const char Sfood = '*';  //食物  
const char Snode = '.';  //'.'在地图上标示为空  
void Initial();  //地图的初始化  
void Create_Food(); //在地图上随机产生食物  
void Show();   //刷新显示地图  
void Button();  //取出按键,并判断方向  
void Move();   //蛇的移动  
void Check_Border();  //检查蛇头是否越界  
void Check_Head(int x, int y);   //检查蛇头移动后的位置情况  
int main()   
{  
 Initial();  
 Show();  
 return 0;  
}  
void Initial()  //地图的初始化  
{  
 int i, j;  
 int hx, hy;  
 system(&quot;title 贪吃蛇&quot;);  //控制台的标题  
 memset(GameMap, '.', sizeof(GameMap));  //初始化地图全部为空'.'  
 system(&quot;cls&quot;);  
 srand(time(0));   //随机种子  
 hx = rand()%H;    //产生蛇头  
 hy = rand()%L;  
 GameMap[hx][hy] = Shead;  
 Snake[0].x = hx;  Snake[0].y = hy;  
 Snake[0].now = -1;  
 Create_Food();   //随机产生食物  
 for(i = 0; i &lt; H; i++)   //地图显示  
 {   
  for(j = 0; j &lt; L; j++)  
   printf(&quot;%c&quot;, GameMap[i][j]);  
  printf(&quot;\n&quot;);  
 }  
      
 printf(&quot;贪吃蛇\n&quot;);  
 printf(&quot;按任意方向键开始游戏\n&quot;);  
     
 getch();   //先接受一个按键,使蛇开始往该方向走  
 Button();  //取出按键,并判断方向  
}  
void Create_Food()  //在地图上随机产生食物  
{  
 int fx, fy;  
 while(1)  
 {  
  fx = rand()%H;  
     fy = rand()%L;  
      
  if(GameMap[fx][fy] == '.')  //不能出现在蛇所占有的位置  
  {   
   GameMap[fx][fy] = Sfood;  
      break;  
  }  
 }  
}  
void Show()  //刷新显示地图  
{  
 int i, j;  
 while(1)  
 {    
  _sleep(500); //延迟半秒(1000为1s),即每半秒刷新一次地图  
  Button();   //先判断按键在移动  
  Move();  
  if(over)  //自吃或碰墙即游戏结束  
  {   
   printf(&quot;\n**游戏结束**\n&quot;);  
   printf(&quot;     &gt;_&lt;\n&quot;);  
   getchar();  
      break;  
  }  
  system(&quot;cls&quot;);   //清空地图再显示刷新吼的地图  
  for(i = 0; i &lt; H; i++)   
  {   
   for(j = 0; j &lt; L; j++)  
    printf(&quot;%c&quot;, GameMap[i][j]);  
   printf(&quot;\n&quot;);  
  }  
      
  printf(&quot;\n小小C语言贪吃蛇\n&quot;);  
  printf(&quot;按任意方向键开始游戏\n&quot;);  
 }  
}  
void Button()  //取出按键,并判断方向  
{  
 if(kbhit() != 0) //检查当前是否有键盘输入，若有则返回一个非0值，否则返回0  
 {   
  while(kbhit() != 0)  //可能存在多个按键,要全部取完,以最后一个为主  
      key = getch(); //将按键从控制台中取出并保存到key中  
  switch(key)  
  {   //左  
   case 75:  Snake[0].now = 0;  
          break;  
            //右  
            case 77:  Snake[0].now = 1;       
          break;  
            //上  
   case 72:  Snake[0].now = 2;  
          break;  
            //下  
   case 80:  Snake[0].now = 3;  
          break;  
  }  
 }  
}  
void Move()   //蛇的移动  
{  
 int i, x, y;  
    int t = sum;  //保存当前蛇的长度  
 //记录当前蛇头的位置,并设置为空,蛇头先移动  
 x = Snake[0].x;  y = Snake[0].y;  GameMap[x][y] = '.';  
 Snake[0].x = Snake[0].x + dx[ Snake[0].now ];  
 Snake[0].y = Snake[0].y + dy[ Snake[0].now ];  
 Check_Border();   //蛇头是否越界  
 Check_Head(x, y);  //蛇头移动后的位置情况,参数为: 蛇头的开始位置  
 if(sum == t)  //未吃到食物即蛇身移动哦  
    for(i = 1; i &lt; sum; i++)  //要从蛇尾节点向前移动哦,前一个节点作为参照  
 {  
  if(i == 1)   //尾节点设置为空再移动  
   GameMap[ Snake[i].x ][ Snake[i].y ] = '.';  
      
  if(i == sum-1)  //为蛇头后面的蛇身节点,特殊处理  
  {  
   Snake[i].x = x;  
         Snake[i].y = y;  
      Snake[i].now = Snake[0].now;  
  }  
  else   //其他蛇身即走到前一个蛇身位置  
  {  
   Snake[i].x = Snake[i+1].x;  
         Snake[i].y = Snake[i+1].y;  
      Snake[i].now = Snake[i+1].now;  
  }  
       
  GameMap[ Snake[i].x ][ Snake[i].y ] = '#'; //移动后要置为'#'蛇身   
 }  
}  
void Check_Border()  //检查蛇头是否越界  
{  
 if(Snake[0].x &lt; 0 || Snake[0].x &gt;= H  
 || Snake[0].y &lt; 0 || Snake[0].y &gt;= L)  
     over = 1;  
}  
void Check_Head(int x, int y)  //检查蛇头移动后的位置情况  
{  
     
 if(GameMap[ Snake[0].x ][ Snake[0].y ] == '.')  //为空  
  GameMap[ Snake[0].x ][ Snake[0].y ] = '@';  
 else 
  if(GameMap[ Snake[0].x ][ Snake[0].y ] == '*')  //为食物  
  {  
   GameMap[ Snake[0].x ][ Snake[0].y ] = '@';    
   Snake[sum].x = x;   //新增加的蛇身为蛇头后面的那个  
      Snake[sum].y = y;  
      Snake[sum].now = Snake[0].now;  
         GameMap[ Snake[sum].x ][ Snake[sum].y ] = '#';   
   sum++;  
   Create_Food();  //食物吃完了马上再产生一个食物  
  }  
  else 
   over = 1;  
}

</code></pre>

                          </div>
                        </div>
                       






<div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">QQ Floating Ice</span>
  </p>
   <p class="copyright-item">
    <span class="item-title">许可协议</span>
    <span class="item-content"><a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a></span>
  </p>
</div>

                        <div class="layout-post-social">
                          <div class="item reader">
                            <div id="/post/c3/" class="leancloud-visitors view"
                              data-flag-title="几个贪吃蛇">
                              <span class="post-meta-item-text">阅读 </span>
                              <span class="leancloud-visitors-count"></span>
                            </div>
                          </div>
                        </div>

                        <div class="layout-post-navigation">
                          <div class="navigation-list">
                            
                            <div class="post-card row">
                              
                              <div class="card-content col-12">
                                <div class="card-body">
                                  <div class="header">
                                    <a href="https://qqfloatingice.top/post/c4/" class="title">
                                      <h4>俄罗斯方块</h4>
                                    </a>
                                  </div>
                                  <div class="inner">
                                    <div class="abstract">
                                      
                                    </div>
                                  </div>
                                </div>
                                <div class="card-footer">
                                  <div class="item"><span>上一篇</span></div>
                                  <div class="item">2020-05-03</div>
                                </div>
                              </div>
                              
                            </div>

                            <div class="post-card row">
                              
                              <div class="card-content col-12">
                                <div class="card-body">
                                  <div class="header">
                                    <a href="https://qqfloatingice.top/post/c2/" class="title">
                                      <h4>计算用杨辉三角</h4>
                                    </a>
                                  </div>
                                  <div class="inner">
                                    <div class="abstract">
                                      
                                    </div>
                                  </div>
                                </div>
                                <div class="card-footer">
                                  <div class="item"><span>下一篇</span></div>
                                  <div class="item">2020-05-03</div>
                                </div>
                              </div>
                              
                            </div>

                            
                          </div>
                        </div>

                        <div class="layout-comments"></div>
                        
                        <script type="text/javascript" src='https://qqfloatingice.top/media/scripts/zan.js'></script>
<script type="text/javascript" src='https://qqfloatingice.top/media/scripts/av-min.js'></script>
<script type="text/javascript" src='https://qqfloatingice.top/media/scripts/Valine.min.js'></script>

<script>
  var valine = new Valine();
  valine.init({
    el: '.layout-comments',
    appId: 'S40eoesUeqxPCxGzruxMGp2X-MdYXbMMI',
    appKey: 'Y4EFOxOuF1pSfSBkuaHoCf5F',
    notify: false,
    verify: false,
    visitor: true,
    avatar: 'mp',
    placeholder: '加入讨论...'
  })


var engine = document.cookie.replace(/(?:(?:^|.*;\s*)engine\s*\=\s*([^;]*).*$)|^.*$/, "$1") || '0';
if(engine!='1') {
  fetch('https://quan.suning.com/getSysTime.do')
  .then(function(response) {
    return response.json();
  })
  .then(function(date) {
    var hours = new Date(date.sysTime2).getHours();
    if(hours>3 && hours<23){
      fetch('https://qqfloatingice.avosapps.us');
      var exp = new Date(date.sysTime2);
      exp.setTime(exp.getTime() + 20*60*1000);
      document.cookie = "engine=1;path=/;expires="+ exp.toGMTString();
    }
  })
}


</script>



                        
                      </div>
                    </div>

                    <div class="col-12 col-lg-2 d-none d-lg-block">
                      <div class="layout-post-sidebar">
                        <div class="layout-sidebar-item">
                          <ul class="markdownIt-TOC">
<li>
<ul>
<li>
<ul>
<li><a href="#%E5%A3%B0%E6%98%8E">声明</a>
<ul>
<li><a href="#%E7%94%B1%E4%BA%8E%E6%9C%AC%E4%BA%BAc%E4%BD%BF%E7%94%A8%E8%83%BD%E5%8A%9B%E4%B8%80%E7%9B%B4%E4%B8%8B%E6%BB%91%E6%AF%95%E7%AB%9F%E7%9F%A5%E9%81%93%E5%AE%83%E6%B2%A1%E7%94%A8-%E4%B8%8D%E8%80%83%E7%AB%9E%E8%B5%9B%E4%B9%8B%E5%90%8E%E5%B0%B1%E6%B2%A1%E8%AE%A4%E7%9C%9F%E7%94%A8%E8%BF%87%E4%BA%86%E6%89%80%E4%BB%A5%E6%9C%89bug%E4%B8%8D%E8%A6%81%E6%89%BE%E6%88%91%E6%88%91%E7%8E%B0%E5%9C%A8%E5%B7%B2%E7%BB%8F%E6%B2%A1%E6%9C%89%E8%83%BD%E5%8A%9B%E4%BF%AE%E4%BB%96%E4%BB%AC%E4%BA%86">由于本人C++使用能力一直下滑（毕竟知道它没用-不考竞赛之后就没认真用过了）所以有BUG不要找我，我现在已经没有能力修他们了。。。。</a>
<ul>
<li><a href="#%E6%9C%AC%E4%BA%BA%E7%9A%84c%E7%89%88%E6%9C%AC%E8%BE%83%E6%97%A9%E5%8F%AF%E8%83%BD%E6%96%B0%E7%89%88%E6%97%A0%E6%B3%95%E8%BF%90%E8%A1%8C">本人的C++版本较早可能新版无法运行</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E5%A3%B9">壹</a></li>
<li><a href="#%E8%B4%B0">贰</a></li>
<li><a href="#%E5%8F%81">叁</a></li>
<li><a href="#%E8%82%86">肆</a></li>
</ul>

                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>






    <div class="layout-totop d-none"><i class="fa fa-angle-up" aria-hidden="true"></i></div>

    	<div class="layout-footer">

		<div class="container">
			<div class="row justify-content-lg-center">
				<div class="col-12 col-lg-9">
					<div class="footer">
						<div class="row">
							<div class="col-12 col-md-9">
								<div class="footer-copy">
									
									<p style="text-align:center">Copyright © 2020-2021 QQ Floating Ice. All rights reserved.</p>


<html>
<head>
<meta charset="utf-8">
<title>本站已艰难的已运行</title>
</head>
<body>
<script type="text/javascript">
function show_date_time() {
	window.setTimeout("show_date_time()", 1000);
	var BirthDay = new Date("04/02/2020 00:11:01");  //这里括号填你站点建立时间
	var today = new Date();
	var timeold = (today.getTime() - BirthDay.getTime());
	var sectimeold = timeold / 1000;
	var secondsold = Math.floor(sectimeold);
	var msPerDay = 24 * 60 * 60 * 1000;
	var e_daysold = timeold / msPerDay;
	var daysold = Math.floor(e_daysold);
	var e_hrsold = (e_daysold - daysold) * 24;
	var hrsold = Math.floor(e_hrsold);
	var e_minsold = (e_hrsold - hrsold) * 60;
	var minsold = Math.floor((e_hrsold - hrsold) * 60);
	var seconds = Math.floor((e_minsold - minsold) * 60);
	document.getElementById 
	("show_date_time").innerHTML="本站艰难地存活了"+daysold + "天" + hrsold + "小时" + minsold + "分" + seconds + "秒";
}
show_date_time()
</script>
<p>
	<span id="show_date_time"></span>
</p>
</body>
</html>



<div>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span id="busuanzi_container_site_pv">
        <sup style="color:grey">总访问量<span id="busuanzi_value_site_pv"></span>次</sup>
    </span>
    <sup><span style="color:grey" class="post-meta-divider">|</span></sup>
    <span id="busuanzi_container_site_uv">
        <sup style="color:grey">访问人数<span id="busuanzi_value_site_uv" ></span>位</sup>
    </span>
</div>



<a href="https://icp.gov.moe" target="_blank">萌ICP备 </a><a href="https://icp.gov.moe/?keyword=20210116" target="_blank"> 20210116号</a>
									<div class="footer-icp d-none d-sm-inline-block">
										<span class="px-2">⋅</span>
										
									</div>
								</div>
							</div>
							<div class="col-sm-3 d-none d-md-block">
								<div class="footer-links">
									
									
									<span class="footer-links-item">
										<a href="https://twitter.com/tyx94219678" target="_blank">
											<i class="fa fa-twitter" aria-hidden="true"></i>
										</a>
									</span>
									
									
									
									<span class="footer-links-item">
										<a href="https://github.com/qqfloatingice" target="_blank">
											<i class="fa fa-github" aria-hidden="true"></i>
										</a>
									</span>
									
									
									
									
									
									
									
									
									
									
									
									<span class="footer-links-item">
										<a href="https://weibo.com/u/7381402429/home?wvr=5&amp;sudaref=www.hao123.com&amp;display=0&amp;retcode=6102" target="_blank">
											<i class="fa fa-weibo" aria-hidden="true"></i>
										</a>
									</span>
									
									
									
									
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

	</div>

	<script type="text/javascript" src='https://qqfloatingice.top/media/scripts/main.js'></script>
	
	<script>
		var _hmt = _hmt || [];
		(function () {
			var hm = document.createElement("script");
			hm.src = "https://hm.baidu.com/hm.js?1aa7181e0d192f1ae44d62add0328c1a";
			var s = document.getElementsByTagName("script")[0];
			s.parentNode.insertBefore(hm, s);
		})();
	</script>
	

  </div>
</body>

</html>